<ui:composition template="/template/commonLayout.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">
	<ui:define name="content">
		<h:form enctype="multipart/form-data">

			<p:messages id="msgNewCandSpont" severity="error,warn"
				closable="true" style="text-align:left" />
			<p:growl id="growlNewCandSpont" sticky="true" severity="info" />

			<p:panel>
				<p:outputLabel style="position:absolute">
					<h2>Spontaneous candidature area</h2>
					</p:outputLabel>
					<p:button outcome="/pages/candidate/CandidatePage.xhtml"
						value="Return to candidate page" style="float:right;position:relative" />
				
				<p:panelGrid id="newSpontCandForm" columns="2"
					styleClass="ui-noborder" style="width: 100%; margin-top: 60px"
					columnClasses="label,field">

					<p:outputLabel value="First Name" for="firstName" />
					<p:inputText id="firstName" size="80" required="true"
						requiredMessage="Please fill in the first name field!"
						value="#{activeUserMB.currentCandidate.firstName}" />

					<p:outputLabel value="Last Name" for="lastName" />
					<p:inputText id="lastName" size="80" required="true"
						requiredMessage="Please fill in the last name field!"
						value="#{activeUserMB.currentCandidate.lastName}" />

					<p:outputLabel value="Email" for="email" />
					<p:inputText id="email" size="80" required="true" disabled="true"
						requiredMessage="Please fill in the email field!"
						value="#{activeUserMB.currentCandidate.email}" />

					<p:outputLabel value="Birthdate" for="birthdate" />
					<p:calendar id="birthdate" size="10" pattern="yyyy-MM-dd"
						mask="true" required="true" disabled="true"
						requiredMessage="Please fill in the birthdate field!"
						value="#{activeUserMB.currentCandidate.birthDate}" />

					<p:outputLabel value="Adress" for="address" />
					<p:inputText id="address" size="80" required="true"
						requiredMessage="Please fill in the address field!"
						value="#{activeUserMB.currentCandidate.address}" />

					<p:outputLabel value="City" for="city" />
					<p:inputText id="city" size="80" required="true"
						requiredMessage="Please fill in the City field!"
						value="#{activeUserMB.currentCandidate.city}" />

					<p:outputLabel value="Country" for="country" />
					<p:inputText id="country" size="80" required="true"
						requiredMessage="Please fill in the Country field!"
						value="#{activeUserMB.currentCandidate.country}" />

					<p:outputLabel value="Phone" for="phone" />
					<p:inputText id="phone" maxlength="13" size="13"
						value="#{activeUserMB.currentCandidate.phone}" />

					<p:outputLabel value="Mobile phone" for="mobilePhone" />
					<p:inputText id="mobilePhone" maxlength="13" size="13"
						required="true"
						requiredMessage="Please fill in the mobile phone field!"
						value="#{activeUserMB.currentCandidate.mobilePhone}" />

					<p:outputLabel value="Main Course" for="course" />
					<p:inputText id="course" size="80" required="true"
						style="width:250px;"
						requiredMessage="Please fill in the course field!"
						value="#{activeUserMB.currentCandidate.course}" />

					<p:outputLabel value="School" for="school" />
					<p:inputText id="school" size="80" required="true"
						style="width:250px;"
						requiredMessage="Please fill in the school field!"
						value="#{activeUserMB.currentCandidate.school}" />

					<p:outputLabel value="Upload CV/Resume (only in pdf format)"
						for="uploadCV" />
					<h:inputFile id="uploadCV" class="buttons"
						value="#{uploadFile.file}" required="true"
						requiredMessage="Please upload your CV/Resume!" />
					<p:outputLabel
						value="Motivation Letter "
						for="motivationLetter" />						
					<p:editor id="motivationLetter"
						value="#{applyMB.motivationLetter}" 
						style="width: 510px;"
						autoResize="false" maxlength="5000" />					
					<p:spacer />
					<h:outputText id="display" />

					<p:outputLabel value="Select city/cities of your preference"
						for="selectCity" />
					<p:selectManyCheckbox id="selectCity"
						value="#{applyMB.selectCities}" layout="grid" columns="4">
						<f:selectItems value="#{applyMB.cities}" var="city"
							itemLabel="#{city}" itemValue="#{city}" />
					</p:selectManyCheckbox>
					<p:outputLabel value="Select technical areas" for="selectArea" />
					<p:selectManyCheckbox id="selectArea"
						value="#{applyMB.selectTechAreas}" layout="grid" columns="3">
						<f:selectItems value="#{applyMB.tecAreas}" var="area"
							itemLabel="#{area}" itemValue="#{area}" />
					</p:selectManyCheckbox>
					<p:spacer />
					<p:columnGroup>
						<p:commandButton value="Cancel" onclick="history.go(-1)" />
						<p:commandButton value="Clear" update="newSpontCandForm"
							process="@this">
							<p:resetInput target="newSpontCandForm" />
						</p:commandButton>
						<p:commandButton value="Submit" ajax="false"
							action="#{applyMB.submitSpontCandidature(uploadFile)}" />
					</p:columnGroup>
				</p:panelGrid>
			</p:panel>
		</h:form>
	</ui:define>
</ui:composition>